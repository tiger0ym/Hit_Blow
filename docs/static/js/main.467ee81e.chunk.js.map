{"version":3,"sources":["start.js","reset.js","log.js","Main.js","index.js"],"names":["StartButton","disabled","this","props","onClick","clickButton","React","Component","ResetButton","Log","className","times","number","hit","blow","Main","state","ans","inputLog","playing","NotNumError","LengrhError","canSubmit","InputNum","SubmitNum","digit","correct","end","localStorage","app","saveDate","JSON","parse","setState","setItem","stringify","answer","i","push","Math","floor","random","event","target","value","inputValue","inputValueNum","isNaN","String","length","Number","preventDefault","j","concat","NumErrorText","correctText","onChange","handleDigitChange","generateNumber","resetNumber","onSubmit","handleSubmit","handInputChange","map","inputItem","findIndex","ele","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.467ee81e.chunk.js","sourcesContent":["import React from 'react';\n\nclass StartButton extends React.Component {\n    \n\n    render() {\n      return (\n        <div>\n            <button disabled={this.props.disabled} onClick={()=>this.props.clickButton()} >START</button>\n        </div>\n      );\n    }\n  }\n export default StartButton;","import React from 'react';\n\nclass ResetButton extends React.Component {\n    render() {\n      return (\n        <div>\n            <button disabled={this.props.disabled} onClick={()=>{this.props.clickButton()}} >RESET</button>\n        </div>\n      );\n    }\n  }\n\n  export default ResetButton;","import React from 'react';\n\nclass Log extends React.Component {\n    render() {\n      return (\n        <div className=\"logrow\">\n            <p>{this.props.times}</p>\n            <p>{this.props.number}</p>\n            <p>{this.props.hit}</p>\n            <p>{this.props.blow}</p>\n        </div>\n      );\n    }\n  }\n\n  export default Log;","import React from 'react';\nimport StartButton from './start';\nimport ResetButton from './reset';\nimport Log from './log';\nimport './index.css';\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ans:[],\n      inputLog:[],\n      playing:false,\n      NotNumError:false,\n      LengrhError:false,\n      canSubmit:false,\n      InputNum:'',\n      SubmitNum:'',\n      digit:'4',\n      correct:false,\n      end:false,\n    };\n  }\n\n  \n  /*リロードしてもstateがリセットされないようにlocalstorageを用いる　https://nari19.me/190711/\n  初回のみ実行*/\n  componentDidMount(){\n    if(localStorage.app){\n      const saveDate = JSON.parse(localStorage.app);\n      this.setState({\n        ans: saveDate.ans,\n        playing: saveDate.playing,\n      })\n    }\n  }\n\n  /*stateが変更されたら実行*/\n  componentDidUpdate(){\n    localStorage.setItem('app',JSON.stringify(this.state));\n  }\n  \n\n  generateNumber(){\n    var answer = [];\n    for(let i=0;i<this.state.digit;i++){\n      answer.push(Math.floor(Math.random() * (10)));\n    }\n    this.setState({\n      ans:answer,\n      playing:true,\n    });\n  }\n\n  resetNumber(){\n    this.setState({\n      ans:[],\n      inputLog:[],\n      playing:false,\n      InputNum:'',\n      canSubmit:false,\n      end:false,\n      correct:false,\n    });\n  }\n\n  handleDigitChange(event){\n    this.setState({digit:event.target.value});\n  }\n\n  handInputChange(event){\n    const inputValue = event.target.value;\n    const inputValueNum = inputValue-0;\n    this.setState({InputNum:inputValue});\n    if(isNaN(inputValueNum) === true){\n      this.setState({\n        NotNumError:true,\n        canSubmit:false,\n      });\n    }else if(inputValue === ''){\n      this.setState({\n        NotNumError:false,\n        LengrhError:false,\n        canSubmit:false,\n      });\n    }else if(String(inputValue).length !== Number(this.state.digit)){\n      this.setState({\n        NotNumError:false,\n        LengrhError:true,\n        canSubmit:false,\n      });\n    }else{\n      this.setState({\n        NotNumError:false,\n        LengrhError:false,\n        canSubmit:true,\n        SubmitNum:inputValue,\n      });\n    }\n  }\n\n  handleSubmit(event){\n    event.preventDefault();\n    let hit=0;\n    let blow=0;\n    for(let i=0;i<this.state.SubmitNum.length;i++){\n      if(this.state.SubmitNum[i] === String(this.state.ans[i])){\n        hit+=1;\n      }\n    }\n    \n    for(let i=0;i<this.state.SubmitNum.length;i++){\n      for(let j=0;j<this.state.SubmitNum.length;j++){\n        if((this.state.SubmitNum[j] === String(this.state.ans[i])) & (this.state.SubmitNum[i] !== String(this.state.ans[i])) & (this.state.SubmitNum[j] !== String(this.state.ans[j]))){\n          blow+=1;\n          break;\n        }\n      }\n    }\n    this.setState({\n      inputLog:this.state.inputLog.concat({number:this.state.SubmitNum,hit:hit,blow:blow}),\n      InputNum:'',\n    });\n\n    if(hit === Number(this.state.digit)){\n      this.setState({\n        correct:true,\n        canSubmit:false,\n        end:true,\n      });\n    }\n  }\n\n  render() {\n    let NumErrorText;\n      if(this.state.NotNumError){\n        NumErrorText=(\n          <p className=\"errormessage\">input a <strong>number</strong></p>\n        );\n      }else if(this.state.LengrhError){\n        NumErrorText=(\n          <p className=\"errormessage\">input a <strong>{this.state.digit}-digit</strong> number</p>\n        );\n      }else{\n        NumErrorText=(<p className=\"errormessage\">&nbsp;</p>);\n      }\n\n      let correctText;\n      if(this.state.correct){\n        correctText=(\n          <p className=\"correctmessage\">Got it! The correct answer is <span><strong>{this.state.ans}</strong></span>.</p>\n        );\n      }else{\n        correctText=(<p className=\"correctmessage\">&nbsp;</p>);\n      }\n\n\n    return (\n      <div>\n        <h1>Hit & Blow</h1>\n        <div className=\"digitinput\">\n          <select value={this.state.digit} onChange={(event)=>{this.handleDigitChange(event)}} disabled={this.state.playing} className=\"inputselect\">\n            <option>2</option>\n            <option>3</option>\n            <option>4</option>\n            <option>5</option>\n            <option>6</option>\n          </select>\n          <p className=\"inputselect2\">digits</p>\n        </div>\n        <div className=\"buttons\">\n          <StartButton disabled={this.state.playing} clickButton={()=>this.generateNumber()} />\n          <ResetButton disabled={!this.state.playing} clickButton={()=>this.resetNumber()} />\n        </div>\n        <div className=\"input_area\">\n            <form onSubmit={(event)=>{this.handleSubmit(event)}}>\n              <input\n                value={this.state.InputNum}\n                onChange={(event)=>{this.handInputChange(event)}}\n                disabled={!this.state.playing || this.state.end}\n              />\n              <button disabled={!this.state.canSubmit}>CALL</button>\n            </form>\n          {NumErrorText}\n        </div>\n        <div className=\"logtitle\">\n            <p>Times</p>\n            <p>Number</p>\n            <p>Hit</p>\n            <p>Blow</p>\n        </div>\n        { this.state.inputLog.map((inputItem) => {\n              return (\n                <Log\n                  times={this.state.inputLog.findIndex(ele => ele === inputItem)+1}\n                  number={inputItem.number}\n                  hit={inputItem.hit}\n                  blow={inputItem.blow}\n                />\n              );\n        }) }\n        {correctText}\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Main from './Main';\n\nReactDOM.render(<Main />, document.getElementById('root'));"],"sourceRoot":""}